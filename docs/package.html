<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>3 The package | iRegression: An R Package for Regression Models with Interval Variables</title>
  <meta name="description" content="Escrever um prefácio">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="3 The package | iRegression: An R Package for Regression Models with Interval Variables" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://prdm0.github.io/iRegression/" />
  
  <meta property="og:description" content="Escrever um prefácio" />
  <meta name="github-repo" content="prdm0/bookiRegression" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 The package | iRegression: An R Package for Regression Models with Interval Variables" />
  
  <meta name="twitter:description" content="Escrever um prefácio" />
  

<meta name="author" content="Eufrasio de A. Lima Neto and Pedro Rafael D. Marinho">


<meta name="date" content="2019-01-24">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="bivariate-symbolic-regression-model-bsrm.html">
<link rel="next" href="references.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="sec-introduction.html"><a href="sec-introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="bivariate-symbolic-regression-model-bsrm.html"><a href="bivariate-symbolic-regression-model-bsrm.html"><i class="fa fa-check"></i><b>2</b> Bivariate symbolic regression model (BSRM)</a><ul>
<li class="chapter" data-level="2.1" data-path="bivariate-symbolic-regression-model-bsrm.html"><a href="bivariate-symbolic-regression-model-bsrm.html#preliminaries"><i class="fa fa-check"></i><b>2.1</b> Preliminaries</a></li>
<li class="chapter" data-level="2.2" data-path="bivariate-symbolic-regression-model-bsrm.html"><a href="bivariate-symbolic-regression-model-bsrm.html#subsec:model"><i class="fa fa-check"></i><b>2.2</b> The model</a></li>
<li class="chapter" data-level="2.3" data-path="bivariate-symbolic-regression-model-bsrm.html"><a href="bivariate-symbolic-regression-model-bsrm.html#subsec:parest"><i class="fa fa-check"></i><b>2.3</b> Parameter estimation</a></li>
<li class="chapter" data-level="2.4" data-path="bivariate-symbolic-regression-model-bsrm.html"><a href="bivariate-symbolic-regression-model-bsrm.html#goodness-of-fit"><i class="fa fa-check"></i><b>2.4</b> Goodness-of-fit measure</a></li>
<li class="chapter" data-level="2.5" data-path="bivariate-symbolic-regression-model-bsrm.html"><a href="bivariate-symbolic-regression-model-bsrm.html#measures"><i class="fa fa-check"></i><b>2.5</b> Residuals</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="package.html"><a href="package.html"><i class="fa fa-check"></i><b>3</b> The package</a><ul>
<li class="chapter" data-level="3.1" data-path="package.html"><a href="package.html#function-bivar"><i class="fa fa-check"></i><b>3.1</b> Function bivar</a></li>
<li class="chapter" data-level="3.2" data-path="package.html"><a href="package.html#sec:crm"><i class="fa fa-check"></i><b>3.2</b> Function crm</a></li>
<li class="chapter" data-level="3.3" data-path="package.html"><a href="package.html#sec:ccrm"><i class="fa fa-check"></i><b>3.3</b> Function ccrm</a></li>
<li class="chapter" data-level="3.4" data-path="package.html"><a href="package.html#sec:MinMax"><i class="fa fa-check"></i><b>3.4</b> Function MinMax</a></li>
<li class="chapter" data-level="3.5" data-path="package.html"><a href="package.html#sec:cm"><i class="fa fa-check"></i><b>3.5</b> Function cm</a></li>
<li class="chapter" data-level="3.6" data-path="package.html"><a href="package.html#sec:an_example"><i class="fa fa-check"></i><b>3.6</b> An example</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">iRegression: An R Package for Regression Models with Interval Variables</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="package" class="section level1">
<h1><span class="header-section-number">3</span> The package</h1>
<p>The <strong>R</strong> package <strong>iRegression</strong> contains the following functions: </br></br></p>
<ul>
<li><code>bivar</code> is a function that fits a regression model for interval-valued variables based on the bivariate symbolic regression method (BSRM);</br></br></li>
<li><code>crm</code> is a function that fits a linear regression model based on the center and range method (CRM);</br></br></li>
<li><code>ccrm</code> is function that fits a linear regression with inequality constraints over the range’s parameters (CCRM);</br></br></li>
<li><code>MinMax</code> is a function that fits a linear regression model for interval variables based on the MinMax method;</br></br></li>
<li><code>cm</code> is a function that fits a linear regression model based on the center method;</li>
</ul>
<p>All five functions require an object of class <code>formula</code> giving the symbolic description of the regression model to be estimated. Methods for analyzing the models above are also provided. The functions <code>coef()</code>, <code>fitted()</code> and <code>residuals()</code> extract the estimated coefficients, fitted values and residuals from the adjusted models. An object from any of the five classes can be summarized through the function <code>summary()</code>.</p>
<div id="function-bivar" class="section level2">
<h2><span class="header-section-number">3.1</span> Function bivar</h2>
<p>The function <code>bivar()</code> can be used to estimate the parameter of a gaussian bivariate regression model for interval variables. It is possible to consider any pair of interval features for the bivariate random vector <span class="math inline">\(\pmb Y\)</span>. For example, the lower and upper interval bounds or the midpoint and the range of intervals, respectively. The function is used as </br></br></p>
<p><code>bivar(formula1, lig1, formula2, lig2, data, ...)</code> </br></br></p>
<p>and considers the following arguments: </br></br></p>
<ul>
<li><code>formula1</code>: an object of class <code>formula</code> that represents the symbolic description of the first marginal model;</br></br></li>
<li><code>lig1</code>: represents the link function to be considered for the first model;</br></br></li>
<li><code>formula2</code>: an object of class <code>formula</code> that represents the symbolic description of the second marginal model;</br></br></li>
<li><code>lig2</code>: represents the link function to be considered for the second model;</br></br></li>
<li><code>data</code>: an optional data frame containing the variables of the models.</li>
</ul>
<p>Notice that it is possible to choose from different link functions (<code>identity</code>, <code>inverse</code> or <code>log</code>) to connect the random variables <span class="math inline">\(Y_1\)</span> and <span class="math inline">\(Y_2\)</span> with the respective linear predictors <span class="math inline">\(\eta_1\)</span> and <span class="math inline">\(\eta_2\)</span>. The function <code>summary.bivar()</code> returns the following elements, given an object of the class <code>bivar</code>: </br></br></p>
<ul>
<li><code>Coefficients1</code> and <code>Coefficients2</code>: the vectors of coefficients for the explanatory variables of the models 1 and 2, respectively;</br></br></li>
<li><code>RMSE1</code> and <code>RMSE2</code>: the root mean square error for the models 1 and 2, respectively;</br></br></li>
<li><code>Rho</code>: the estimate for the correlation coefficient between <span class="math inline">\(Y_1\)</span> and <span class="math inline">\(Y_2\)</span>;</br></br></li>
<li><code>Phi</code>: the estimate of the dispersion parameter;</br></br></li>
<li><code>D</code>: the goodness-of-fit measure deviance for the current model.</li>
</ul>
<p>The function <code>bivar()</code> considers the expression <a href="#eq:leastsquares">(<strong>??</strong>)</a> to estimate the vectors of coefficients <span class="math inline">\(\hat{\pmb \beta_1}\)</span> and <span class="math inline">\(\hat{\pmb \beta_2}\)</span>, the expression <a href="#eq:deviance">(<strong>??</strong>)</a> to compute the Deviance for the current model, and the expressions <a href="#eq:phiestimate">(<strong>??</strong>)</a> and <a href="#eq:profile">(<strong>??</strong>)</a> provide, respectively, the estimates of the dispersion parameter <span class="math inline">\(\hat{\phi}\)</span> and the correlation coefficient <span class="math inline">\(\hat{\rho}\)</span>. Moreover, the function <code>coef.bivar()</code> returns just the estimated coefficients while the functions <code>fitted.bivar()</code> and <code>residuals.bivar()</code> provide, respectively, the matrices of the fitted values and the residuals for an object of the class <code>bivar</code>. The expression <a href="#eq:devianceresidual">(<strong>??</strong>)</a> is used to obtain the residual deviance. The function <code>bivar</code> considers the bivariate gaussian distribution as probabilistic support for the error of the model BSRM and the following elements belongs from an object of class <code>bivar</code>: </br></br></p>
<ul>
<li><code>coefficients1</code>: a named vector of coefficients for the explanatory variables of the model “1”;</br></br></li>
<li><code>coefficients2</code>: a named vector of coefficients for the explanatory variables of the model “2”;</br></br></li>
<li><code>fitted.values1</code>: the fitted values for the response variable <span class="math inline">\(\pmb Y_1\)</span>;</br></br></li>
<li><code>fitted.values2</code>: the fitted values for the response variable <span class="math inline">\(\pmb Y_2\)</span>;</br></br></li>
<li><code>residuals1</code>: the ordinary residual for the response variable <span class="math inline">\(\pmb Y_1\)</span>;</br></br></li>
<li><code>residuals2</code>: the ordinary residual for the response variable <span class="math inline">\(\pmb Y_2\)</span>;</br></br></li>
<li><code>residual.deviance</code>: the global residual for the bivariate vector <span class="math inline">\(\pmb Y = [\pmb Y_1, \pmb Y_2]\)</span>;</br></br></li>
<li><code>Rho</code>: the estimative for the correlation coefficient between <span class="math inline">\(\pmb Y_1\)</span> and <span class="math inline">\(\pmb Y_2\)</span>;</br></br></li>
<li><code>Phi</code>:the estimative of the dispersion parameter;</br></br></li>
<li><code>D</code>: the goodness-of-fit measure deviance for the current model.</li>
</ul>
</div>
<div id="sec:crm" class="section level2">
<h2><span class="header-section-number">3.2</span> Function crm</h2>
<p>The function <code>crm()</code> fits two independent linear regression models to the center and range
of the interval variables, respectively, and minimizes the sum of squared center’s error plus the sum of squared range’s error <span class="citation">(Lima Neto and De Carvalho <a href="#ref-LimaNetoDeCarvalho2008">2008</a>)</span>. The function is used as </br></br></p>
<p><code>crm(formula1, formula2, data, ...)</code> </br></br></p>
<p>and considers the following arguments: </br></br></p>
<ul>
<li><code>formula1</code>: an object of class <code>formula</code> that represents the symbolic description of the center’s model;</br></br></li>
<li><code>formula2</code>: an object of class <code>formula</code> that represents the symbolic description of the range’s model;</br></br></li>
<li><code>data</code>: an optional data frame containing the variables of the models.</li>
</ul>
<p>This function returns an object of class <code>crm</code> including the following elements: </br></br></p>
<ul>
<li><code>coefficients.C</code>: the vector of coefficients for the center’s explanatory variables;</br></br></li>
<li><code>coefficients.R</code>: the vector of coefficients for the range’s explantory variables;</br></br></li>
<li><code>sigma.C</code>: an estimate of standard deviation for the center’s regression model;</br></br></li>
<li><code>sigma.R</code>: an estimate of standard deviation for the range’s regression model;</br></br></li>
<li><code>df.C</code>: the degrees of freedom for the center’s residuals;</br></br></li>
<li><code>df.R</code>: the degrees of freedom for the range’s residuals;</br></br></li>
<li><code>fitted.values.l</code>: the fitted values of the lower interval bounds;</br></br></li>
<li><code>fitted.values.u</code>: the fitted values of the upper interval bounds;</br></br></li>
<li><code>residuals.l</code>: the residuals of the lower interval bounds;</br></br></li>
<li><code>residuals.u</code>: the residuals of the upper interval bounds.</li>
</ul>
<p>The function <code>summary.crm()</code> returns the elements <code>RMSE.l</code> (the root mean squared error of the lower bound) and <code>RMSE.u</code> (the root mean squared error of the upper bound), given an object of the class <code>crm</code>. The function <code>coef.crm()</code> returns just the estimated coefficients while the functions <code>fitted.crm()</code> and <code>residuals.crm()</code> provide, respectively, the matrices of the fitted values and the residuals for an object of the class <code>crm</code>. Notice that the fitted values, residuals and root mean square errors are denoted in terms of lower and upper interval bounds to a better comparison with the original values of the response variable <span class="math inline">\(\pmb Y\)</span>.</p>
</div>
<div id="sec:ccrm" class="section level2">
<h2><span class="header-section-number">3.3</span> Function ccrm</h2>
<p>The function <code>ccrm()</code> fits two independent linear regression models to the center and range
of the interval variables. However, the parameter estimation of the range’s coefficients takes into account inequality constraints and is estimated using the function <code>pcls()</code> (see package <strong>mgcv</strong>, available in <a href="http://CRAN.r-project.org/package=mgcv">mgcv</a>). This function solves least squares problems with quadratic penalties subject to linear equality and inequality constraints using quadratic programming. The aim is to guarantee mathematical coherence between the predicted values of the lower and upper bounds of the response interval variable Y, i.e., <span class="math inline">\(\hat{y}_L &lt; \hat{y}_U\)</span>. There are no constraints over the parameter estimates for the center coefficients. For further details about the constrained center and range method, see . The function  is used as</p>
<p><code>ccrm(formula1, formula2, data, ...)</code></br></br></p>
<p>and considers the following arguments: </br></br></p>
<ul>
<li><code>formula1</code>: an object of class <code>formula</code> that represents the symbolic description of the center’s model;</br></br></li>
<li><code>formula2</code>: an object of class <code>formula</code> that represents the symbolic description of the range’s model;</br></br></li>
<li><code>data</code>: an optional data frame containing the variables of the models.</li>
</ul>
<p>This function returns an object of class <code>ccrm</code> with the following elements: <code>coefficients.C</code>, <code>coefficients.R</code>, <code>sigma.C</code>, <code>sigma.R</code>, <code>df.C</code>, <code>df.R</code>, <code>fitted.values.l</code>, <code>fitted.values.u</code>, <code>residuals.l</code> and <code>residuals.u</code>. All these elements present the same description of the function <code>crm()</code>. The function <code>summary.ccrm()</code> returns the elements <code>RMSE.l</code> (the root mean squared error of the lower bound) and <code>RMSE.u</code> (the root mean squared error of the upper bound), given an object of the class <code>ccrm</code>. The function <code>coef.ccrm()</code> returns just the estimated coefficients while the functions <code>fitted.ccrm()</code> and <code>residuals.ccrm()</code> provide, respectively, the matrices of the fitted values and the residuals for an object of the class <code>ccrm</code>.</p>
</div>
<div id="sec:MinMax" class="section level2">
<h2><span class="header-section-number">3.4</span> Function MinMax</h2>
<p>The function <code>MinMax()</code> suggests to estimate the lower and the upper bounds of the interval variables using two linear regression models with different vectors of parameters. This is equivalent to supposing independence between the values of lower and upper bounds of the intervals. The function is used as </br></br></p>
<p><code>MinMax(formula1, formula2, data, ...)</code> </br></br></p>
<ul>
<li><code>formula1</code>: an object of class <code>formula</code> that represents the symbolic description of the lower bound model; </br></br></li>
<li><code>formula2</code>: an object of class <code>formula</code> that represents the symbolic description of the upper bound model; </br></br></li>
<li><code>data</code>: an optional data frame containing the variables of the models.</li>
</ul>
<p>The following elements belong to an object of class <code>MinMax</code>: <code>coefficients.l</code>, <code>coefficients.u</code>, <code>sigma.l</code>, <code>sigma.u</code>, <code>df.l</code>, <code>df.u</code>, <code>fitted.values.l</code>, <code>fitted.values.u</code>, <code>residuals.l</code> and <code>residuals.u</code>. The function <code>summary.MinMax()</code> returns the elements <code>RMSE.l</code> (the root mean squared error of the lower bound) and <code>RMSE.u</code> (the root mean squared error of the upper bound), given an object of the class <code>MinMax</code>. The function <code>coef.MinMax()</code> returns just the estimated coefficients while the functions <code>fitted.MinMax()</code> and <code>residuals.MinMax()</code> provide, respectively, the matrices of the fitted values and the residuals for an object of the class <code>MinMax</code>.</p>
</div>
<div id="sec:cm" class="section level2">
<h2><span class="header-section-number">3.5</span> Function cm</h2>
<p>The function <code>cm()</code> implements the first approach proposed to fit a linear regression model to interval variables <span class="citation">(Billard and Diday <a href="#ref-BillardDiday2000">2000</a>)</span>. This approach consists in fitting a linear regression model
to the centers of the interval variables, minimizing the sum of squared center’s error. The lower and upper bounds of the response interval variable Y are predicted, respectively, from the
lower and upper bounds of the independent variables using the same vector of parameters <span class="math inline">\(\pmb{\beta}\)</span>. The function is used as </br></br></p>
<p><code>cm(formula1, formula2, data, ...)</code> </br></br></p>
<p>and considers the following arguments: </br></br></p>
<ul>
<li><code>formula1</code>: an object of class <code>formula</code> that represents the symbolic description of the lower bound model;</br></br></li>
<li><code>formula2</code>: an object of class <code>formula</code> that represents the symbolic description of the upper bound model;</br></br></li>
<li><code>data</code>: an optional data frame containing the variables of the models.</li>
</ul>
<p>The function <code>cm</code> returns an object of class <code>cm</code> including the following elements: <code>coefficients</code>, <code>sigma</code>, <code>df</code>, <code>fitted.values.l</code>, <code>fitted.values.u</code>, <code>residuals.l</code> and <code>residuals.u</code>. The function <code>summary.cm()</code> returns the elements <code>RMSE.l</code> (the root mean squared error of the lower bound) and <code>RMSE.u</code> (the root mean squared error of the upper bound), given an object of the class <code>cm</code>. The function <code>coef()</code> returns just the estimated coefficients while the functions <code>fitted.cm()</code> and <code>residuals.cm()</code> provide, respectively, the matrices of the fitted values and the residuals for an object of the class <code>cm</code>.</p>
</div>
<div id="sec:an_example" class="section level2">
<h2><span class="header-section-number">3.6</span> An example</h2>
<p>This section illustrates the functions in the package and demonstrates the differences between the regression methods implemented for interval variables. This is performed using the data set Soccer, illustrated in</p>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-LimaNetoDeCarvalho2008">
<p>Lima Neto, Eufrásio Andrade, and Francisco Assis T. De Carvalho. 2008. “Centre and Range Method for Fitting a Linear Regression Model to Symbolic Interval Data.” <em>Computational Statistics &amp; Data Analysis</em> 52 (3): 1500–1515. <a href="https://doi.org/http://dx.doi.org/10.1016/j.csda.2007.04.014">https://doi.org/http://dx.doi.org/10.1016/j.csda.2007.04.014</a>.</p>
</div>
<div id="ref-BillardDiday2000">
<p>Billard, L., and E. Diday. 2000. “Regression Analysis for Interval-Valued Data.” In <em>Data Analysis, Classification, and Related Methods</em>, edited by Henk A. L. Kiers, Jean-Paul Rasson, Patrick J. F. Groenen, and Martin Schader, 369–74. Heidelberg: Springer. <a href="https://doi.org/10.1007/978-3-642-59789-3_58">https://doi.org/10.1007/978-3-642-59789-3_58</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="bivariate-symbolic-regression-model-bsrm.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/prdm0/bookiReg/edit/master/the_package.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "none"
},
"toolbar": {
"position": "fixed"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
